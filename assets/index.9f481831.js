import{c as V,o as l,a as m,b as s,t as f,u as n,r as L,d as $,e as v,F as B,f as P,n as N,g as q,_ as T,S as Q,h as M,w as F,v as W,i as H,j as K,k as R,G as U,V as z,l as J,K as X,C as Y,T as Z}from"./index.8203e652.js";const ee={class:"inline-flex items-baseline"},te={class:"font-bold text-xs"},se={class:"underline scale-75 origin-left font-light -mt-2"},O={__name:"money",props:{amount:{type:Number,required:!0,default:0}},setup(r){const k=r,y=V(()=>{const h=Math.abs(k.amount);return Math.floor(h/100)}),u=V(()=>(Math.abs(k.amount)%100).toString().padStart(2,"0"));return(h,S)=>(l(),m("span",ee,[s("span",te,f(n(y)),1),s("span",se,f(n(u)),1)]))}},ae={class:"rounded-lg shadow-md overflow-hidden"},oe={class:"overflow-x-auto"},ne={class:"w-full"},re={class:"bg-gray-900 border-b"},le={class:"flex items-center"},ie={key:0,class:"ml-1"},ce={class:"flex items-center"},ue={key:0,class:"ml-1"},de={class:"flex items-center justify-end"},me={key:0,class:"ml-1"},ye={class:"flex items-center justify-end"},xe={key:0,class:"ml-1"},he={class:"flex items-center justify-end"},fe={key:0,class:"ml-1"},ge={class:"flex items-center justify-end"},pe={key:0,class:"ml-1"},ve={class:"flex items-center justify-end"},be={key:0,class:"ml-1"},_e={class:"flex items-center justify-end"},we={key:0,class:"ml-1"},$e={class:"divide-y divide-gray-800"},Ie={class:"px-4 py-3"},ke={class:"relative max-w-fit flex"},De=["src","alt"],Ce={key:0,class:"absolute -top-1 -right-1 bg-blue-500/50 text-white text-xs font-bold w-4 h-4 rounded-full flex items-center justify-center text-[10px]"},Le={class:"px-4 py-3"},qe=["title"],Se={class:"px-4 py-3 text-gray-600 text-right"},je={class:"px-4 py-3 text-right"},Ae={class:"px-4 py-3 text-blue-300 text-right"},Ge={class:"px-4 py-3 text-blue-300 text-right"},Ve={class:"px-4 py-3 text-blue-300 text-right"},Me={class:"px-4 py-3 text-blue-300 text-right"},Ne={__name:"GameList",props:{games:{type:Array,required:!0},prices:{type:Array,required:!0}},setup(r){const k=r,y=L(""),u=L("asc"),h=(g,t)=>{var e,x,w,I,j,A,a;const o=(e=k.prices)==null?void 0:e.find(c=>c.steamID==g.steamID);if(!o)return 0;switch(t){case"price3m":return((w=(x=o.historyLow)==null?void 0:x.m3)==null?void 0:w.amountInt)||0;case"price1y":return((j=(I=o.historyLow)==null?void 0:I.y1)==null?void 0:j.amountInt)||0;case"priceAll":return((a=(A=o.historyLow)==null?void 0:A.all)==null?void 0:a.amountInt)||0;default:return 0}},S=V(()=>y.value?[...k.games].sort((t,o)=>{var w,I;let e,x;switch(y.value){case"name":e=((w=t.name)==null?void 0:w.toLowerCase())||"",x=((I=o.name)==null?void 0:I.toLowerCase())||"";break;case"steamID":e=Number(t.steamID)||0,x=Number(o.steamID)||0;break;case"quantity":e=Number(t.quantity)||0,x=Number(o.quantity)||0;break;case"baseID":e=Number(t.baseID)||0,x=Number(o.baseID)||0;break;case"price3m":case"price1y":case"priceAll":e=h(t,y.value),x=h(o,y.value);break;default:return 0}return typeof e=="string"?u.value==="asc"?e.localeCompare(x):x.localeCompare(e):u.value==="asc"?e-x:x-e}):k.games),p=g=>{y.value===g?u.value=u.value==="asc"?"desc":"asc":(y.value=g,u.value="asc")},b=g=>{g.target.src="https://via.placeholder.com/64x36/374151/ffffff?text=Game"};return(g,t)=>{const o=O;return l(),m("div",ae,[s("div",oe,[s("table",ne,[s("thead",re,[s("tr",null,[s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 cursor-pointer hover:text-gray-200 transition-colors",onClick:t[0]||(t[0]=e=>p("image"))},[s("div",le,[t[8]||(t[8]=$(" Image ",-1)),n(y)==="image"?(l(),m("span",ie,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 cursor-pointer hover:text-gray-200 transition-colors",onClick:t[1]||(t[1]=e=>p("name"))},[s("div",ce,[t[9]||(t[9]=$(" Game Name ",-1)),n(y)==="name"?(l(),m("span",ue,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[2]||(t[2]=e=>p("steamID"))},[s("div",de,[t[10]||(t[10]=$(" Steam ID ",-1)),n(y)==="steamID"?(l(),m("span",me,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[3]||(t[3]=e=>p("quantity"))},[s("div",ye,[t[11]||(t[11]=$(" Quantity ",-1)),n(y)==="quantity"?(l(),m("span",xe,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[4]||(t[4]=e=>p("baseID"))},[s("div",he,[t[12]||(t[12]=$(" Base ID ",-1)),n(y)==="baseID"?(l(),m("span",fe,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[5]||(t[5]=e=>p("price3m"))},[s("div",ge,[t[13]||(t[13]=$(" 3m ",-1)),n(y)==="price3m"?(l(),m("span",pe,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[6]||(t[6]=e=>p("price1y"))},[s("div",ve,[t[14]||(t[14]=$(" 1y ",-1)),n(y)==="price1y"?(l(),m("span",be,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])]),s("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-400 text-right cursor-pointer hover:text-gray-200 transition-colors",onClick:t[7]||(t[7]=e=>p("priceAll"))},[s("div",_e,[t[15]||(t[15]=$(" all ",-1)),n(y)==="priceAll"?(l(),m("span",we,f(n(u)==="asc"?"\u2191":"\u2193"),1)):v("",!0)])])])]),s("tbody",$e,[(l(!0),m(B,null,P(n(S),e=>{var x,w,I,j,A,a,c,i,d,_,G,D;return l(),m("tr",{key:`${e.steamID}-${e.name}`,class:"hover:bg-gray-700 transition-colors duration-200"},[s("td",Ie,[s("div",ke,[s("img",{src:`https://steamcdn-a.akamaihd.net/steam/apps/${e.steamID}/header.jpg`,alt:e.name,class:"w-16 h-9 object-cover rounded",onError:b},null,40,De),e.quantity>1?(l(),m("div",Ce,f(e.quantity),1)):v("",!0)])]),s("td",Le,[s("div",{class:"font-medium text-gray-100",title:e.name},f(e.name),9,qe)]),s("td",Se,f(e.steamID),1),s("td",je,[s("span",{class:N(e.quantity>1?"text-red-600 font-semibold":"text-gray-600")},f(e.quantity),3)]),s("td",Ae,f(e.baseID||"-"),1),s("td",Ge,[q(o,{amount:((j=(I=(w=(x=r.prices)==null?void 0:x.find(C=>C.steamID==e.steamID))==null?void 0:w.historyLow)==null?void 0:I.m3)==null?void 0:j.amountInt)||0},null,8,["amount"])]),s("td",Ve,[q(o,{amount:((i=(c=(a=(A=r.prices)==null?void 0:A.find(C=>C.steamID==e.steamID))==null?void 0:a.historyLow)==null?void 0:c.y1)==null?void 0:i.amountInt)||0},null,8,["amount"])]),s("td",Me,[q(o,{amount:((D=(G=(_=(d=r.prices)==null?void 0:d.find(C=>C.steamID==e.steamID))==null?void 0:_.historyLow)==null?void 0:G.all)==null?void 0:D.amountInt)||0},null,8,["amount"])])])}),128))])])])])}}};const Be={class:"rounded-lg hover:shadow-2xl transition-all duration-300 drop-shadow-lg rounded-xl ring-1 ring-blue-800/5-",style:{filter:"drop-shadow(0 10px 6px rgba(0, 165, 255, 0.3))"}},Pe={class:"aspect-video flex items-center justify-center relative rounded-xl"},Ee=["src","alt"],Oe={key:0,class:"absolute -top-2 -right-2 bg-sky-500/90 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center shadow-lg"},Te={key:1,class:"absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white text-xs px-2 py-1 rounded"},Qe={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white px-2 py-1 rounded-b-xl border-t border-sky-400/50 mt-3"},Fe={class:"flex items-center justify-between"},We=["title"],He={key:0,class:"font-light text-blue-400/80"},Ke=["href","title"],Re=["href","title"],Ue={__name:"GameCard",props:{game:{type:Object,required:!0},price:{type:Object,required:!0}},setup(r){const k=r,y=u=>{u.target.src=`https://via.placeholder.com/460x215/374151/ffffff?text=${encodeURIComponent(k.game.name)}`};return(u,h)=>{var p,b,g,t,o,e,x,w,I,j,A,a;const S=O;return l(),m("div",Be,[s("div",Pe,[s("img",{src:`https://steamcdn-a.akamaihd.net/steam/apps/${r.game.steamID}/header.jpg`,alt:r.game.name,class:"w-full h-full object-fit rounded-xl",onError:y},null,40,Ee),r.game.quantity>1?(l(),m("div",Oe,f(r.game.quantity),1)):v("",!0),r.game.baseID?(l(),m("div",Te," Base: "+f(r.game.baseID),1)):v("",!0),s("div",Qe,[s("div",Fe,[s("h3",{class:"font-semibold text-sm truncate flex-1 mr-2",title:r.game.name},[r.game.quantity>1?(l(),m("span",He,f(r.game.quantity)+"x",1)):v("",!0),$(" "+f(r.game.name),1)],8,We),s("a",{href:`https://store.steampowered.com/app/${r.game.steamID}/`,target:"steam",rel:"noopener",title:`steamID:${r.game.steamID}`,class:"flex items-center text-xs text-gray-300 flex-shrink-0"},[$(f(r.game.steamID)+" ",1),q(n(Q),{class:"w-3 h-3"})],8,Ke),h[0]||(h[0]=$(" ~",-1)),(g=(b=(p=r.price)==null?void 0:p.historyLow)==null?void 0:b.all)!=null&&g.amountInt?(l(),M(S,{key:0,amount:(e=(o=(t=r.price)==null?void 0:t.historyLow)==null?void 0:o.all)==null?void 0:e.amountInt,class:"hl -mb-1 ml-1",title:`historicLow: ${((I=(w=(x=r.price)==null?void 0:x.historyLow)==null?void 0:w.all)==null?void 0:I.amountInt)/100}$
per isThereAnyDeal.com`},null,8,["amount","title"])):v("",!0),s("a",{href:`https://gg.deals/game/${(a=(A=(j=r.game)==null?void 0:j.name)==null?void 0:A.toLowerCase())==null?void 0:a.replaceAll(" ","-")}`,target:"_blank",rel:"noopener",title:`ggDeals:${r.game.name}`,class:"text-xs"}," \u{1F4B0} ",8,Re)])])])])}}},ze=T(Ue,[["__scopeId","data-v-bc47f4b7"]]),Je={class:"bg-gray-800 text-white p-4 pt-10 shadow-lg"},Xe={class:"container mx-auto"},Ye={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ze={class:"flex-1 max-w-md pl-6"},et={class:"flex items-center gap-2"},tt={key:0,class:"text-sm"},st={key:1,class:"flex bg-gray-700 rounded-lg overflow-hidden"},at=["onClick"],ot={key:2,class:"text-sm"},nt={key:3,class:"flex bg-gray-700 rounded-lg overflow-hidden"},rt=["onClick","title"],lt={class:"flex items-center gap-2"},it={class:"flex bg-gray-700 rounded-lg overflow-hidden"},ct={__name:"GameHeader",props:{viewMode:{type:String,default:"grid"}},emits:["search","sort","view-change"],setup(r,{emit:k}){const y=k,u=L(""),h=L("name-asc");function S(t){const o=g(t),e={price3m:"3-month low",price1y:"1-year low",priceAll:"All-time low"};return o==="off"?`Sort by ${e[t]}`:`${e[t]} (${o==="desc"?"high to low":"low to high"})`}function p(t){const o=g(t),x={price3m:"3m",price1y:"1y",priceAll:"All"}[t]||"";return o==="off"?x:`${x}${o==="desc"?"\u2193":"\u2191"}`}function b(t){const o=g(t);let e;o==="off"?e="desc":o==="desc"?e="asc":e="desc",h.value=`${t}-${e}`,y("sort",h.value)}function g(t){return h.value.startsWith(t)?h.value.endsWith("-asc")?"asc":"desc":"off"}return(t,o)=>(l(),m("div",Je,[s("div",Xe,[s("div",Ye,[s("div",Ze,[F(s("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>H(u)?u.value=e:null),onInput:o[1]||(o[1]=e=>t.$emit("search",n(u))),type:"search",placeholder:"Search games...",class:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"},null,544),[[W,n(u)]])]),s("div",et,[r.viewMode==="grid"?(l(),m("label",tt,"Sort:")):v("",!0),r.viewMode==="grid"?(l(),m("div",st,[(l(),m(B,null,P(["name-asc","name-desc"],e=>s("button",{key:e,onClick:x=>{h.value=e,t.$emit("sort",e)},class:N(["px-4 py-2 text-sm font-medium transition-colors",n(h)===e?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"])},[e=="name-asc"?(l(),M(n(K),{key:0})):(l(),M(n(R),{key:1}))],10,at)),64))])):v("",!0),r.viewMode==="grid"?(l(),m("label",ot,"$:")):v("",!0),r.viewMode==="grid"?(l(),m("div",nt,[(l(),m(B,null,P(["price3m","price1y","priceAll"],e=>s("button",{key:e,onClick:x=>b(e),class:N(["px-3 py-2 text-xs font-medium transition-colors border-r border-gray-600 last:border-r-0",g(e)!=="off"?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"]),title:S(e)},f(p(e)),11,rt)),64))])):v("",!0)]),s("div",lt,[o[4]||(o[4]=s("label",{class:"text-sm"},"View:",-1)),s("div",it,[s("button",{onClick:o[2]||(o[2]=e=>t.$emit("view-change","grid")),class:N(["px-4 py-2 text-sm font-medium transition-colors",r.viewMode==="grid"?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"])},[q(n(U))],2),s("button",{onClick:o[3]||(o[3]=e=>t.$emit("view-change","list")),class:N(["px-4 py-2 text-sm font-medium transition-colors",r.viewMode==="list"?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-600"])},[q(n(z))],2)])])])])]))}},ut={class:"flex items-center gap-2 text-sm"},dt={class:"flex flex-row items-center text-cyan-300",title:"gameCount"},mt={class:"flex flex-row items-center text-green-300",title:"keyCount"},yt={class:"flex flex-row items-center text-yellow-300",title:"estimatedValue"},xt={class:"container mx-auto py-2 px-6"},ht={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mt-2"},gt={__name:"index",setup(r){const k=L([]),y=L([]),u=L([]),h=L([]),S=L("grid"),p=L(""),b=L("name-asc");fetch("./gamelist.json").then(a=>a.json()).then(a=>{k.value=a,u.value=g(a),h.value=u.value,w()}),fetch("./priceData.json").then(a=>a.json()).then(a=>{y.value=a});const g=a=>{const c=new Map;return a.forEach(i=>{const d=Array.from(c.values()).find(_=>_.steamID===i.steamID);d?d.quantity+=1:c.set(i.steamID,{...i,quantity:1})}),Array.from(c.values())},t=a=>{p.value=a,x()},o=a=>{b.value=a,w()},e=a=>{S.value=a},x=()=>{let a=u.value;if(p.value){const c=p.value.toLowerCase();a=a.filter(i=>i.name.toLowerCase().includes(c))}h.value=a,w()},w=()=>{const a=[...h.value],c=(i,d)=>{var G,D,C;const _=y.value.find(E=>E.steamID===i.steamID);if(!(_!=null&&_.historyLow))return 0;switch(d){case"m3":return((G=_.historyLow.m3)==null?void 0:G.amountInt)||0;case"y1":return((D=_.historyLow.y1)==null?void 0:D.amountInt)||0;case"all":return((C=_.historyLow.all)==null?void 0:C.amountInt)||0;default:return 0}};b.value==="name-asc"?a.sort((i,d)=>i.name.localeCompare(d.name)):b.value==="name-desc"?a.sort((i,d)=>d.name.localeCompare(i.name)):b.value==="price3m-asc"?a.sort((i,d)=>c(i,"m3")-c(d,"m3")):b.value==="price3m-desc"?a.sort((i,d)=>c(d,"m3")-c(i,"m3")):b.value==="price1y-asc"?a.sort((i,d)=>c(i,"y1")-c(d,"y1")):b.value==="price1y-desc"?a.sort((i,d)=>c(d,"y1")-c(i,"y1")):b.value==="priceAll-asc"?a.sort((i,d)=>c(i,"all")-c(d,"all")):b.value==="priceAll-desc"&&a.sort((i,d)=>c(d,"all")-c(i,"all")),h.value=a},I=V(()=>u.value.length),j=V(()=>u.value.reduce((a,c)=>a+c.quantity,0)),A=V(()=>u.value.reduce((a,c)=>{var _,G;const i=y.value.find(D=>D.steamID===c.steamID),d=((G=(_=i==null?void 0:i.historyLow)==null?void 0:_.all)==null?void 0:G.amountInt)||0;return a+d*c.quantity},0));return(a,c)=>{const i=O,d=ct,_=ze,G=Ne;return l(),m("section",null,[(l(),M(Z,{to:"#stats"},[s("div",ut,[s("span",dt,[$(f(n(I))+" ",1),q(n(J))]),s("span",mt,[$(f(n(j))+" ",1),q(n(X))]),s("span",yt,[c[0]||(c[0]=$(" ~",-1)),q(i,{amount:n(A)},null,8,["amount"]),q(n(Y),{class:"-ml-1"})])])])),q(d,{"view-mode":n(S),onSearch:t,onSort:o,onViewChange:e},null,8,["view-mode"]),s("div",xt,[n(S)==="grid"?(l(),m("div",ht,[(l(!0),m(B,null,P(n(h),D=>{var C;return l(),M(_,{key:`${D.steamID}-${D.name}`,game:D,price:(C=n(y).find(E=>E.steamID===D.steamID))!=null?C:{}},null,8,["game","price"])}),128))])):(l(),M(G,{key:1,games:n(h),prices:n(y)},null,8,["games","prices"]))])])}}};export{gt as default};
